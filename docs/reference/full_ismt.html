<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Cálculo de ISMT completo a partir del Censo 2017 -- Full ISMT calculation from 2017 Census. — full_ismt • ismtchile</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Cálculo de ISMT completo a partir del Censo 2017 -- Full ISMT calculation from 2017 Census. — full_ismt"><meta property="og:description" content="Ejecuta el cálculo completo del ISMT. Agrupa las funciones `literalize()`, `geofilter()`, `cleanup()`, `precalc()`, `get_pca()` e `ismt_scores()`. La tabla obtenida debería ser idéntica al resultado de concatenar estas funciones una a una."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ismtchile</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0.7</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Cálculo de ISMT completo a partir del Censo 2017 -- Full ISMT calculation from 2017 Census.</h1>
    
    <div class="hidden name"><code>full_ismt.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Ejecuta el cálculo completo del ISMT. Agrupa las funciones `literalize()`, `geofilter()`, `cleanup()`, `precalc()`, `get_pca()` e `ismt_scores()`. La tabla obtenida debería ser idéntica al resultado de concatenar estas funciones una a una.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">full_ismt</span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  <span class="va">r</span>,</span>
<span>  <span class="va">ur</span>,</span>
<span>  rfield <span class="op">=</span> <span class="st">"id_region"</span>,</span>
<span>  urfield <span class="op">=</span> <span class="st">"tipo_area"</span>,</span>
<span>  year <span class="op">=</span> <span class="fl">2017</span>,</span>
<span>  tipo_vivienda <span class="op">=</span> <span class="st">"tipoviv"</span>,</span>
<span>  ocupacion <span class="op">=</span> <span class="st">"ocup_viv"</span>,</span>
<span>  ndorms <span class="op">=</span> <span class="st">"ndorms"</span>,</span>
<span>  parentesco <span class="op">=</span> <span class="st">"parentesco"</span>,</span>
<span>  muro <span class="op">=</span> <span class="st">"mat_muro"</span>,</span>
<span>  techo <span class="op">=</span> <span class="st">"mat_techo"</span>,</span>
<span>  piso <span class="op">=</span> <span class="st">"mat_piso"</span>,</span>
<span>  grouping <span class="op">=</span> <span class="st">"id_zona"</span>,</span>
<span>  level <span class="op">=</span> <span class="st">"zc"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>df</dt>
<dd><p>objeto <code>data.frame</code>. Default es <code>2017</code>. <br><br><code>data.frame</code> object. Default is <code>2017</code>.</p></dd>


<dt>r</dt>
<dd><p>integer. Se aceptan valores entre 1 y 16 para Chile 2017. Si <code>r == 99</code>, no se define una región en particular y se trabaja con valores a nivel nacional. <br><br> integer. Values between 1 and 16 are acceptable for Chile 2017. If <code>r == 99</code>, no region will be defined and work will continue with national level values.</p></dd>


<dt>ur</dt>
<dd><p>integer. Valores aceptables son <code>1</code> y <code>2</code>. Define si se requiere zona urbana <code>ur = 1</code> o rural <code>ur = 2</code>. <br><br> integer. Accepted values are <code>1</code> and <code>2</code>. Defines whether urban <code>ur = 1</code> or rural <code>ur = 2</code> data is requested.</p></dd>


<dt>rfield</dt>
<dd><p>string. Nombre del campo que corresponde al número de la región. Default es <code>region</code>. <br><br> string. Name of the field corresponding to the region number. Default is <code>region</code>.</p></dd>


<dt>urfield</dt>
<dd><p>string. Nombre del campo que define el tipo de área (urbana o rural). Default es <code>tipo_area</code>. <br><br> string Name of the field corresponding to the desired area (urban or rural). Default is <code>tipo_area</code>.</p></dd>


<dt>year</dt>
<dd><p>integer. Default es <code>2017</code>. <br><br> integer. Default is <code>2017</code>.</p></dd>


<dt>tipo_vivienda</dt>
<dd><p>string. Nombre del campo de tipo de vivienda. Default es <code>tipoviv</code>. <br><br> string. Name of the dwelling type field. Default is <code>tipoviv</code>.</p></dd>


<dt>ocupacion</dt>
<dd><p>string. Nombre del campo de ocupación de la vivienda. Default es <code>ocup_viv</code>. <br><br> string. Name of the home occupation field. Default is <code>ocup_viv</code>.</p></dd>


<dt>ndorms</dt>
<dd><p>string. Nombre del campo con el número de dormitorios del hogar. Default es <code>ndorms</code>. <br><br> string. Name of the number of bedrooms field. Default is <code>ndorms</code>.</p></dd>


<dt>parentesco</dt>
<dd><p>string. Nombre del campo de parentesco. Default es <code>parentesco</code>. <br><br> string. Name of the familial relationship field. Default is <code>parentesco</code>.</p></dd>


<dt>muro</dt>
<dd><p>string. Nombre del campo de condición del muro. Default es <code>mat_muro</code>. <br><br> string. Name of the wall condition field. Default is <code>mat_muro</code>.</p></dd>


<dt>techo</dt>
<dd><p>string. Nombre del campo de condición del techo. Default es <code>mat_techo</code>. <br><br> string. Name of the ceiling condition field. Default is <code>mat_techo</code>.</p></dd>


<dt>piso</dt>
<dd><p>string. Nombre del campo de condición del suelo. Default es <code>mat_piso</code>. <br><br> string. Name of the floor condition field. Default is <code>mat_piso</code>.</p></dd>


<dt>grouping</dt>
<dd><p>string. Nombre del campo con la variable de la unidad espacial agrupadora. Default es <code>id_zona</code>. <br><br> string. Name of the field with the spacial grouping unit variable. Default is <code>id_zona</code>.</p></dd>


<dt>level</dt>
<dd><p><code>string</code>. Nivel de agrupación de los datos finales. Acepta valores <code>zc</code> (zona censal) y <code>mzn</code> (manzana). El nivel de manzana no está disponible para el 2017 debido al secreto estadístico de la base de datos de origen. Default es <code>zc</code>. <br><br><code>string</code>. Grouping level for the final data. Values <code>zc</code> (census zone) and <code>mzn</code> (block). Block level is not available for 2017 due to statistical secret of original database. Default is <code>zc</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>objeto data.frame conteniendo</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">ismt</span> <span class="op">&lt;-</span> <span class="fu">full_ismt</span><span class="op">(</span><span class="va">c17</span>, <span class="fl">13</span>, <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in mutate(., id_region = str_pad(region, width = 2, side = "left",     pad = "0"), id_provin = str_pad(provincia, width = 3, side = "left",     pad = "0"), id_comuna = str_pad(comuna, width = 5, side = "left",     pad = "0"), id_distri = paste(id_comuna, str_pad(dc, width = 2,     side = "left", pad = "0"), sep = ""), id_area = paste(id_distri,     as.character(area), sep = ""), id_zona = paste(id_area, str_pad(zc_loc,     width = 3, side = "left", pad = "0"), sep = ""), id_manzan = NA_character_,     nviv = as.integer(nviv), nhogar = as.integer(nhogar), npers = as.integer(personan),     cant_hog = case_when(cant_hog %in% c(0:35) ~ as.integer(cant_hog),         T ~ NA_integer_), cant_per = as.integer(cant_per), tipoviv = case_when(p01 ==         1 ~ "CASA", p01 == 2 ~ "DPTO", p01 == 3 ~ "INDIGENA",         p01 == 4 ~ "PIEZA", p01 == 5 ~ "MEDIAGUA", p01 == 6 ~             "MOVIL", p01 == 7 ~ "OTRO", p01 == 8 ~ "COLECTIVA",         p01 == 9 ~ "TRANSITO", p01 == 10 ~ "CALLE", T ~ NA_character_),     ocup_viv = case_when(p02 == 1 ~ "PRESENTES", p02 == 2 ~ "AUSENTES",         p02 == 3 ~ "DESOCUPADA", p02 == 4 ~ "TEMPORADA", T ~             NA_character_), mat_muro = case_when(p03a == 1 ~         "HORMIGON", p03a == 2 ~ "ALBANILERIA", p03a == 3 ~ "TABIQUE_FORRADO",         p03a == 4 ~ "TABIQUE", p03a == 5 ~ "ARTESANAL", p03a ==             6 ~ "PRECARIOS", T ~ NA_character_), mat_techo = case_when(p03b ==         1 ~ "TEJAS", p03b == 2 ~ "LOSA_HORMIGON", p03b == 3 ~         "PLANCHAS", p03b == 4 ~ "FONOLITA", p03b == 5 ~ "PAJA",         p03b == 6 ~ "PRECARIOS", p03b == 7 ~ "SIN_TECHO", T ~             NA_character_), mat_piso = case_when(p03c == 1 ~         "PARQUET", p03c == 2 ~ "RADIER", p03c == 3 ~ "BALDOSA_CEMENTO",         p03c == 4 ~ "CEMENTO_TIERRA", p03c == 5 ~ "TIERRA", T ~             NA_character_), ndorms = case_when(p04 %in% c(0:6) ~         as.integer(p04), T ~ NA_integer_), agua_orig = case_when(p05 ==         1 ~ "RED_PUBLICA", p05 == 2 ~ "POZO", p05 == 3 ~ "CAMION",         p05 == 4 ~ "RIO", T ~ NA_character_), tipo_hog = case_when(tipo_hogar ==         1 ~ "UNIPERSONAL", tipo_hogar == 2 ~ "MONOPARENTAL",         tipo_hogar == 3 ~ "BIPARENTAL_NH", tipo_hogar == 4 ~             "BIPARENTAL_CH", tipo_hogar == 5 ~ "COMPUESTO", tipo_hogar ==             6 ~ "EXTENSO", tipo_hogar == 7 ~ "SIN_NUCLEO", T ~             NA_character_), operativo = case_when(tipo_operativo ==         1 ~ "VIV_PARTICULAR", tipo_operativo == 8 ~ "VIV_COLECTIVA",         tipo_operativo == 9 ~ "TRANSITO", tipo_operativo == 10 ~             "CALLE", T ~ NA_character_), parentesco = case_when(p07 ==         1 ~ "JEFE_HOGAR", p07 == 2 ~ "CONYUGUE", p07 == 3 ~ "UNION_CIVIL",         p07 == 4 ~ "PAREJA", p07 == 5 ~ "HIJO_A", p07 == 6 ~             "HIJO_A_CONYUGUE", p07 == 7 ~ "HERMANO_A", p07 ==             8 ~ "PADRE_MADRE", p07 == 9 ~ "CUNADO_A", p07 ==             10 ~ "SUEGRO_A", p07 == 11 ~ "YERNO_NUERA", p07 ==             12 ~ "NIETO_A", p07 == 13 ~ "ABUELO_A", p07 == 14 ~             "OTRO_PARIENTE", p07 == 15 ~ "NO_PARIENTE", p07 ==             16 ~ "SERVICIO", p07 == 17 ~ "VIV_COLECTIVA", p07 ==             18 ~ "OP_TRANSITO", p07 == 19 ~ "OP_CALLE", T ~ NA_character_),     sexo = case_when(p08 == 1 ~ "HOMBRE", p08 == 2 ~ "MUJER",         T ~ NA_character_), edad = as.integer(p09), res_5a = case_when(p11 ==         1 ~ "NO_NACIDO", p11 == 2 ~ "ESTA_COMUNA", p11 == 3 ~         "OTRA_COMUNA", p11 == 4 ~ "PERU", p11 == 5 ~ "ARGENTINA",         p11 == 6 ~ "BOLIVIA", p11 == 7 ~ "ECUADOR", p11 == 8 ~             "COLOMBIA", p11 == 9 ~ "OTRO", p11 %in% c(98, 99) ~             "NO_APLICA", T ~ NA_character_), nacimiento = case_when(p12 ==         1 ~ "ESTA_COMUNA", p12 == 2 ~ "OTRA_COMUNA", p12 == 3 ~         "PERU", p12 == 4 ~ "ARGENTINA", p12 == 5 ~ "BOLIVIA",         p12 == 6 ~ "ECUADOR", p12 == 7 ~ "COLOMBIA", p12 == 8 ~             "OTRO", p12 %in% c(98, 99) ~ "NO_APLICA", T ~ NA_character_),     asiste_educ = case_when(p13 == 1 ~ "SI", p13 == 2 ~ "NO_ACTUAL",         p13 == 3 ~ "NUNCA", T ~ NA_character_), curso_alto = case_when(p14 %in%         c(0:8) ~ as.integer(p14), T ~ NA_integer_), nivel_educ = case_when(p15 ==         1 ~ "JARDIN", p15 == 2 ~ "PREKINDER", p15 == 3 ~ "KINDER",         p15 == 4 ~ "DIFERENCIAL", p15 == 5 ~ "BASICA", p15 ==             6 ~ "PRIMARIA", p15 == 7 ~ "CIENTIFICO_HUMANISTA",         p15 == 8 ~ "TECNICA_PROF", p15 == 9 ~ "HUMANIDADES",         p15 == 10 ~ "TEC_COMERCIAL", p15 == 11 ~ "TEC_SUPERIOR",         p15 == 12 ~ "PROFESIONAL", p15 == 13 ~ "MAGISTER", p15 ==             14 ~ "DOCTORADO", T ~ NA_character_), pueblo_pert = case_when(p16 ==         1 ~ "SI", p16 == 2 ~ "NO", T ~ NA_character_), pueblo_orig = case_when(p16a ==         1 ~ "MAPUCHE", p16a == 2 ~ "AYMARA", p16a == 3 ~ "RAPA_NUI",         p16a == 4 ~ "LICAN_ANTAI", p16a == 5 ~ "QUECHUA", p16a ==             6 ~ "COLLA", p16a == 7 ~ "DIAGUITA", p16a == 8 ~             "KAWESQAR", p16a == 9 ~ "YAGAN", p16a == 10 &amp; p16a_otro ==             3 ~ "LAFKENCHE", p16a == 10 &amp; p16a_otro == 4 ~ "PEHUENCHE",         p16a == 10 &amp; p16a_otro == 5 ~ "HUILLICHE", p16a == 10 &amp;             p16a_otro == 6 ~ "PICUNCHE", p16a == 10 &amp; p16a_otro ==             21 ~ "CHANGO", p16a == 10 &amp; p16a_otro == 22 ~ "CHONO",         p16a == 10 &amp; p16a_otro == 23 ~ "ONA", p16a == 10 &amp; p16a_otro ==             28 ~ "TEHUELCHE", p16a == 10 &amp; p16a_otro == 33 ~             "LATAM", p16a == 10 &amp; p16a_otro == 34 ~ "MUNDO",         p16a == 10 &amp; p16a_otro == 35 ~ "AFRO", p16a == 10 &amp; p16a_otro ==             37 ~ "OTROS", p16a == 10 &amp; p16a_otro == 97 ~ "NO_DECLARA",         T ~ NA_character_), trabajo = case_when(p17 == 1 ~ "PAGADO",         p17 == 2 ~ "SIN_PAGO_FAM", p17 == 3 ~ "VACACIONES", p17 ==             4 ~ "BUSCANDO", p17 == 5 ~ "ESTUDIANDO", p17 == 6 ~             "QUEHACERES", p17 == 7 ~ "JUBILADO", p17 == 8 ~ "OTRO",         T ~ NA_character_), rama = case_when(p18 == "A" ~ "AGRO",         p18 == "B" ~ "MINERIA", p18 == "C" ~ "MANUFACTURA", p18 ==             "D" ~ "SUMINISTRO", p18 == "E" ~ "AGUAS", p18 ==             "F" ~ "CONSTRUCCION", p18 == "G" ~ "COMERCIO", p18 ==             "H" ~ "TRANSPORTE", p18 == "I" ~ "ALOJAMIENTO", p18 ==             "J" ~ "INFORMACION", p18 == "K" ~ "FINANZA", p18 ==             "L" ~ "INMOBILIARIA", p18 == "M" ~ "PROFESIONAL",         p18 == "N" ~ "ADMINISTRACION", p18 == "O" ~ "ADMIN_PUBLICA",         p18 == "P" ~ "EDUCACION", p18 == "Q" ~ "SALUD", p18 ==             "R" ~ "ENTRETENIMIENTO", p18 == "S" ~ "OTROS_SERVICIOS",         p18 == "T" ~ "HOGAR", p18 == "U" ~ "EXTRATERRITORIO",         p18 == "Z" ~ "NO_DECLARA", T ~ NA_character_), hijos_nacido = case_when(p19 %in%         c(0:23) ~ as.integer(p19), T ~ NA_integer_), hijos_vivos = case_when(p20 %in%         c(0:23) ~ as.integer(p20)), escolaridad = case_when(escolaridad %in%         c(0:21) ~ as.integer(escolaridad), T ~ NA_integer_),     year = "2017", tipo_area = case_when(area == 1 ~ "URBANO",         area == 2 ~ "RURAL", T ~ NA_character_)):</span> object 'c17' not found</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Martín Rosas Araya.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

